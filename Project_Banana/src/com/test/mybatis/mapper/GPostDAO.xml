<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
<mapper namespace="com.test.mvc.IGPostDAO">
	
	<select id="cateList" resultType="com.test.mvc.GCateDTO">
	SELECT G_CATE_BCODE, CATE_NAME,G_CATE_CODE
	FROM G_CATE
	WHERE G_CATE_BCODE = #{g_cate_bcode} AND G_CATE_MCODE IS NULL
	</select>
	
	<select id="cateMList" resultType="com.test.mvc.GCateDTO">
	SELECT G_CATE_CODE,CATE_NAME
	FROM G_CATE
	WHERE G_CATE_BCODE = #{g_cate_bcode} AND G_CATE_MCODE = #{g_cate_code} 	
	</select>
	
	<select id="gNewList" resultType="com.test.mvc.GPostDTO">
		SELECT TITLE,DIS_COST,L.LOC_NAME,P.PHOTO
		FROM G_POST G  LEFT JOIN LOC L
		ON G.LOC_CODE = L.LOC_CODE
		        LEFT JOIN G_PHOTO P
		ON G.G_POST_CODE = P.G_POST_CODE
		ORDER BY WDATE DESC
	</select>
	
	<select id="gCateList" resultType="com.test.mvc.GPostDTO">
		SELECT TITLE,DIS_COST,L.LOC_NAME,P.PHOTO
		FROM G_POST G  LEFT JOIN LOC L
		ON G.LOC_CODE = L.LOC_CODE
		        LEFT JOIN G_PHOTO P
		ON G.G_POST_CODE = P.G_POST_CODE
		        JOIN G_CATE T
		ON G.G_CATE_CODE = T.G_CATE_CODE
		WHERE G_CATE_BCODE = 'G_CATE5'
		ORDER BY WDATE DESC
	</select>
	
	
	
</mapper>